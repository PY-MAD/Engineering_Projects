<!DOCTYPE html>
<html lang="ar" dir="">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/assets/lib/evo-calendar/css/evo-calendar.css"/>
    <link rel="stylesheet" type="text/css" href="/assets/lib/evo-calendar/css/evo-calendar.royal-navy.min.css"/>
    <title>Document</title>
</head>
<style>
        .show-article{
            min-height: 70vh;
            background-color: beige;
        }
</style>
<body>
    <div>
        <input type="text" id="titleText" placeholder="title">
        <textarea name="dsad" id="inputArea" cols="30" rows="10"></textarea>
        <input type="button" id="send" value="send">
    </div>
    <div class="show-article">
        <div class="title" id="title"></div>
        <div class="textera" id="textera"></div>
    </div>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";

import { getDatabase, ref,onValue, child, get, set } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";
import { getAuth,onAuthStateChanged,signOut } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";

const firebaseConfig = {
    apiKey: "AIzaSyAPs6u-21i0E9mxGXWhdlFiCKpkuhrPpBc",
    authDomain: "test-ab03a.firebaseapp.com",
    databaseURL: "https://test-ab03a-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "test-ab03a",
    storageBucket: "test-ab03a.appspot.com",
    messagingSenderId: "19444872261",
    appId: "1:19444872261:web:69de8c91e006b58aa8df2c"
};


const app = initializeApp(firebaseConfig);
const database = getDatabase(app)
const auth = getAuth();
let uniqId = new Date().getTime();

send.addEventListener("click",()=>{
    let title = document.getElementById("titleText").value;
let area = document.getElementById("inputArea").value;
let send = document.getElementById("send")
    set(ref(database, `/blog/${uniqId}`),{
        title: title,
        blogText:area,
    })
})
let titleView = document.getElementById("title")
let area = document.getElementById("textera")
get(ref(database , "/blog/")).then((data)=>{
    let s = data.val()
    for(let i in s){
        let t = s[i].title;
        let ar = s[i].blogText
        console.log(ar)
        titleView.innerText = t;
        area.innerText += ar
    }
})



</script>
</html>